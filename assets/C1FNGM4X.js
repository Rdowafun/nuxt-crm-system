import{v as x,_ as S}from"./Dr1BWaBq.js";import{_ as R}from"./CVZNS6qx.js";import{u as C}from"./Bo9VEiHV.js";import{f as L,y as m,ah as U,Q as k,o as B,c as N,a as i,b as n,i as c,j as d,w,d as g}from"./CqrhRuWy.js";import{e as u}from"./Dnc2z6XF.js";import{u as y,a as j}from"./Da7etu7C.js";const E={class:"flex items-center justify-center min-h-screen"},M={class:"rounded bg-sidebar w-1/4 p-5"},A=i("h1",{class:"text-2xl font-bold text-center mb-5"},"Login",-1),I={class:"flex items-center justify-center gap-5"},F=L({__name:"login",setup(P){const p=y();C({title:"Login | CRM System"});const e=m(""),t=m(""),s=m(""),f=j(),V=y(),b=U();k(async()=>{p.isAuth&&(await u.deleteSession("current"),p.clear())});const _=async()=>{f.set(!0),await u.createEmailPasswordSession(e.value,t.value);const o=await u.get();o&&V.set({email:o.email,name:o.name,status:o.status}),e.value="",t.value="",s.value="",await b.push("/"),f.set(!1)},h=async()=>{await u.create(x(),e.value,t.value,s.value),await _()};return(o,a)=>{const r=S,v=R;return B(),N("div",E,[i("div",M,[A,i("form",null,[n(r,{modelValue:c(e),"onUpdate:modelValue":a[0]||(a[0]=l=>d(e)?e.value=l:null),placeholder:"Email",type:"email",class:"mb-3"},null,8,["modelValue"]),n(r,{modelValue:c(t),"onUpdate:modelValue":a[1]||(a[1]=l=>d(t)?t.value=l:null),placeholder:"Password",type:"password",class:"mb-3"},null,8,["modelValue"]),n(r,{modelValue:c(s),"onUpdate:modelValue":a[2]||(a[2]=l=>d(s)?s.value=l:null),placeholder:"Name",type:"name",class:"mb-3"},null,8,["modelValue"]),i("div",I,[n(v,{type:"button",onClick:_},{default:w(()=>[g("Login")]),_:1}),n(v,{type:"button",onClick:h},{default:w(()=>[g("Register")]),_:1})])])])])}}});export{F as default};
